# Сервис для управления пользователями и компаниями и аутентификации пользователей

Этот сервис осуществляет хранение и управление компаниями, их пользователями и клиентами (сервисами/приложениями,
которые будут обращаться по api к другим сервисам), а также аутентификацию пользователей (обмен логина и пароля на токен) и клиентов.
Клиенты - это по сути те же пользователи, но только для них генерятся логин и пароль.
Создавать клиенты как в OAuth 2.0 нет смысла, т.к. у нас нет третьей стороны - пользователя, который
предоставляет доступ к своим данным конкретному клиенту.

За аутентификацию пользователей ик клиентов отвечает Keycloak. Он выдаёт токен.
Так же в Keycloak должны будут ходить другие внутренние сервисы для проверки корректности токена.
Проект Template - шаблон проекта, с которого начинать разработку нового сервиса. В нём реализована проверка
токена в Keycloak и проверка ролей из токена.
Есть три роли: admin, user, client. Роль admin включает в себя user и client.
Пользователь с ролью admin может создавать компании, пользователей и клиентов.
Роли будут импортированы при первом поднятии контейнера с Keycloak.

## Запуск проекта
1. Запустить docker-compose файл
 Он поднимет postgres базу для keycloak, сам keycloak и postgres базу для сервиса.
 При запуске будет импортирован реалм prod_realm c ролями реалма admin, user, client.
 Клиент (auth_client) для текущего сервиса с сервис-аккаунтом.
 Пользователь test_user с ролью admin.
 Пользователь test с ролью user.
2. Запустить сам сервис
